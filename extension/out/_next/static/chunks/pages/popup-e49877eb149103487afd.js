_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{AOGL:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/popup",function(){return n("PGoB")}])},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("a3WO");function o(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},H2xy:function(e,t,n){"use strict";var r=n("nKUr");t.a=function(){return Object(r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("a3WO");var o=n("BsWD");function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},PGoB:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),o=n("q1tI"),a=Object(o.createContext)({workState:{status:"idle"},updateWorkState:function(){},workLength:15e5,updateWorkLength:function(){},mints:0,updateMints:function(){},rewards:[],updateRewards:function(){}}),s=function(e){var t=e.children,n=Object(o.useState)({status:"idle"}),s=n[0],c=n[1],i=Object(o.useState)(15e5),l=i[0],u=i[1],d=Object(o.useState)(0),b=d[0],j=d[1],h=Object(o.useState)([]),f=h[0],m=h[1],w=Object(o.useState)(!0),x=w[0],O=w[1];Object(o.useEffect)((function(){chrome.storage.sync.get({workState:{status:"idle"},workLength:15e5,mints:0,rewards:[{name:"Watch Netflix",price:60}]},(function(e){var t=e.workState,n=e.workLength,r=e.mints,o=e.rewards;c(t),u(n),j(r),m(o),O(!1)}));var e=function(e){void 0!==e.workState&&c(e.workState.newValue),void 0!==e.mints&&j(e.mints.newValue),void 0!==e.workLength&&u(e.workLength.newValue),void 0!==e.rewards&&m(e.rewards.newValue)};return chrome.storage.onChanged.addListener(e),function(){chrome.storage.onChanged.removeListener(e)}}),[]);return x?null:Object(r.jsx)(a.Provider,{value:{workState:s,updateWorkState:function(e){chrome.storage.sync.set({workState:e})},workLength:l,updateWorkLength:function(e){chrome.storage.sync.set({workLength:e})},mints:b,updateMints:function(e){chrome.storage.sync.set({mints:e})},rewards:f,updateRewards:function(e){chrome.storage.sync.set({rewards:e})}},children:t})},c=function(){return Object(r.jsxs)("svg",{className:"w-6 h-6 text-white hover:text-gray-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},i=function(){var e=Object(o.useContext)(a).mints;return Object(r.jsxs)("div",{className:"flex justify-between bg-green-400 px-2 h-8 items-center",children:[Object(r.jsxs)("div",{className:"flex items-center",children:[Object(r.jsx)("img",{className:"mr-2",src:"img/mint-24x24.png"}),Object(r.jsx)("div",{className:"text-base font-semibold text-white",children:e})]}),Object(r.jsx)("button",{onClick:function(){return chrome.runtime.openOptionsPage()},children:Object(r.jsx)(c,{})})]})};n("BsWD");var l=n("KQm4"),u=n("rePB"),d=function(){return Object(r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})},b=n("H2xy");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.reward,n=Object(o.useContext)(a),s=n.rewards,c=n.updateRewards,i=Object(o.useState)(t.name),l=i[0],u=i[1],j=Object(o.useState)(t.price),f=j[0],m=j[1];Object(o.useEffect)((function(){c(s.map((function(e){return e.id!==t.id?e:h(h({},t),{},{name:l,price:f})})))}),[l,f]);return Object(r.jsxs)("li",{className:"flex items-center mb-2",children:[Object(r.jsx)("div",{className:"w-4 mr-2",draggable:"true",children:Object(r.jsx)(d,{})}),Object(r.jsx)("input",{className:"flex-1 mr-2",value:l,onChange:function(e){return u(e.target.value)}}),Object(r.jsx)("input",{className:"w-8 mr-2 text-right",value:f,onChange:function(e){var t=Number(e.target.value);Number.isInteger(t)&&m(t)}}),Object(r.jsx)("button",{className:"w-4",onClick:function(){c(s.filter((function(e){return e.id!==t.id})))},children:Object(r.jsx)(b.a,{})})]})},m=function(e){var t=e.children;return Object(r.jsx)("div",{className:"flex absolute top-0 right-0 bottom-0 left-0 bg-black bg-opacity-50 items-center justify-center",children:Object(r.jsx)("div",{className:"bg-white w-44 rounded p-4",children:t})})},w=function(){var e=Object(o.useState)(!1),t=e[0],n=e[1],s=Object(o.useState)(null),c=s[0],i=s[1],u=Object(o.useContext)(a),d=u.rewards,b=u.updateRewards,j=u.mints,h=u.updateMints;return t?Object(r.jsxs)("div",{className:"flex flex-col flex-1 bg-green-50 p-4 overflow-scroll",children:[Object(r.jsx)("ul",{children:d.map((function(e){return Object(r.jsx)(f,{reward:e},e.id)}))}),Object(r.jsx)("button",{className:"border-gray-500 border-dashed border-2 p-1 rounded mb-2",onClick:function(){chrome.storage.sync.get({nextRewardId:0},(function(e){var t=e.nextRewardId;b([].concat(Object(l.a)(d),[{id:t,name:"New reward",price:10}])),chrome.storage.sync.set({nextRewardId:t+1})}))},children:"Add new reward"}),Object(r.jsx)("button",{className:"bg-green-500 font-semibold text-white p-1 rounded shadow hover:shadow-lg transition-all duration-200",onClick:function(){n(!1)},children:"Done"})]}):Object(r.jsxs)("div",{className:"flex flex-col flex-1 bg-green-50 p-4",children:[Object(r.jsx)("ul",{children:d.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsxs)("button",{className:"flex justify-between mb-2 py-1 px-2 rounded w-full bg-white shadow hover:shadow-lg transition-all duration-200",onClick:function(){j<e.price?i({type:"error",reward:e}):i({type:"confirmation",reward:e})},children:[Object(r.jsx)("div",{className:"flex-1 truncate mr-2 text-left",children:e.name}),Object(r.jsx)("div",{children:e.price})]})},e.id)}))}),Object(r.jsx)("button",{className:"bg-gray-500 font-semibold text-white p-1 rounded shadow hover:shadow-lg transition-all duration-200",onClick:function(){n(!0)},children:"Edit shop"}),"confirmation"===(null===c||void 0===c?void 0:c.type)&&Object(r.jsx)(m,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"mb-4",children:["Are you sure you want to purchase ",c.reward.name," for",c.reward.price," mints?"]}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("button",{className:"bg-gray-500 text-white p-1 rounded flex-1 mr-1",onClick:function(){return i(null)},children:"Cancel"}),Object(r.jsx)("button",{className:"bg-green-500 text-white p-1 rounded flex-1 ml-1",onClick:function(){i(null),h(j-c.reward.price)},children:"Yes"})]})]})}),"error"===(null===c||void 0===c?void 0:c.type)&&Object(r.jsx)(m,{children:Object(r.jsxs)("div",{className:"flex flex-col items-center",children:[Object(r.jsxs)("div",{className:"mb-4",children:["You need ",c.reward.price," mints for"," ",c.reward.name,"."]}),Object(r.jsx)("button",{onClick:function(){return i(null)},className:"bg-gray-500 text-white p-1 rounded w-1/2",children:"Okay"})]})})]})},x=function(e){var t=e.label,n=e.onClick,o=e.isActive,a=e.isDisabled,s="bg-gray-400 hover:bg-gray-500";return o&&(s="bg-green-400"),a&&(s="bg-gray-300 cursor-not-allowed"),Object(r.jsx)("button",{className:"".concat(s," flex-1 text-white font-semibold h-10"),onClick:n,disabled:a,children:t})},O=function(e){var t=Math.floor(e/36e5),n=Math.floor(e/6e4)%60,r=Math.floor(e/1e3)%60,o=String(n).padStart(2,"0"),a=String(r).padStart(2,"0");return t?"".concat(t,":").concat(o,":").concat(a):"".concat(o,":").concat(a)},g=function(e){var t=e.workEndTime,n=Object(o.useState)(Math.max(0,t-Date.now())),a=n[0],s=n[1];return Object(o.useEffect)((function(){var e=setInterval((function(){s(Math.max(0,t-Date.now()))}),1e3);return function(){clearInterval(e)}}),[]),Object(r.jsx)("div",{className:"text-4xl mb-2 font-mono",children:O(a)})},p=function(){var e=Object(o.useContext)(a),t=e.workLength,n=e.updateWorkLength,s=Object(o.useState)(String(Math.floor(t/6e4)).padStart(2,"0")),c=s[0],i=s[1],l=Object(o.useState)(String(Math.floor(t/1e3)%60).padStart(2,"0")),u=l[0],d=l[1],b=Object(o.useState)(""),j=b[0],h=b[1],f=function(){var e=Number(c),t=Number(u);if(Number.isInteger(e)&&Number.isInteger(t))return h(""),void n(1e3*(60*e+t));h("Invalid values for minutes or seconds")};return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"flex items-center mb-4 text-4xl font-mono",children:[Object(r.jsx)("input",{className:"text-right w-28 rounded bg-transparent outline-none",type:"text",maxLength:3,value:c,onChange:function(e){i(e.target.value)},onBlur:f}),":",Object(r.jsx)("input",{className:"w-20 rounded mr-8 bg-transparent outline-none",type:"text",maxLength:2,value:u,onChange:function(e){d(e.target.value)},onBlur:f})]}),j&&Object(r.jsx)("div",{children:j})]})},v=function(e){var t=e.pausedTimeLeft;return Object(r.jsx)("div",{className:"text-4xl mb-2 font-mono",children:O(t)})},k=function(){var e=Object(o.useContext)(a),t=e.workState,n=e.updateWorkState,s=e.workLength,c=function(){n({status:"idle"}),chrome.alarms.clearAll()},i=function(){var e=null;if("idle"===t.status?e=Date.now()+s:"paused"===t.status&&(e=Date.now()+t.pausedTimeLeft),null===e)throw new Error("tried to start work when not idle or paused");n({status:"working",workEndTime:e});var r="workFor"+Math.floor(s/6e4);chrome.alarms.create(r,{when:e}),window.close()};return Object(r.jsxs)("div",{className:"flex flex-col flex-1 items-center justify-center bg-green-50",children:["idle"===t.status&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(p,{}),Object(r.jsx)("button",{className:"bg-green-400 text-white font-semibold py-1 shadow hover:shadow-lg transition-all duration-200 w-24 rounded",onClick:i,children:"Work"})]}),"working"===t.status&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(g,{workEndTime:t.workEndTime}),Object(r.jsx)("button",{className:"bg-gray-500 text-white font-semibold w-24 py-1 shadow hover:shadow-lg transition-all duration-200 rounded mb-1",onClick:function(){if("working"===t.status){var e=t.workEndTime-Date.now();n({status:"paused",pausedTimeLeft:e}),chrome.alarms.clearAll()}},children:"Pause"}),Object(r.jsx)("button",{className:"bg-red-500 text-white font-semibold w-24 py-1 shadow hover:shadow-lg transition-all duration-200 rounded",onClick:c,children:"Stop"})]}),"paused"===t.status&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(v,{pausedTimeLeft:t.pausedTimeLeft}),Object(r.jsx)("button",{className:"bg-green-500 text-white font-semibold w-24 py-1 shadow hover:shadow-lg transition-all duration-200 rounded mb-1",onClick:i,children:"Resume"}),Object(r.jsx)("button",{className:"bg-red-500 text-white font-semibold w-24 py-1 shadow hover:shadow-lg transition-all duration-200 rounded",onClick:c,children:"Reset"})]})]})},y=function(){var e=Object(o.useState)("work"),t=e[0],n=e[1],s=Object(o.useContext)(a).workState;return Object(r.jsxs)("div",{className:"flex flex-col h-64 w-64",children:[Object(r.jsx)(i,{}),Object(r.jsxs)("div",{className:"flex flex-1 flex-col",children:["work"===t&&Object(r.jsx)(k,{}),"shop"===t&&Object(r.jsx)(w,{})]}),Object(r.jsxs)("div",{className:"flex h-10",children:[Object(r.jsx)(x,{label:"Work",onClick:function(){return n("work")},isActive:"work"===t,isDisabled:!1}),Object(r.jsx)(x,{label:"Shop",onClick:function(){return n("shop")},isActive:"shop"===t,isDisabled:"working"===s.status})]})]})};t.default=function(){return Object(r.jsx)(s,{children:Object(r.jsx)(y,{})})}},Qetd:function(e,t,n){"use strict";var r=Object.assign.bind(Object);e.exports=r,e.exports.default=e.exports},a3WO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))}},[["AOGL",0,1]]]);